{% extends "base.html" %}
{% load static %}
{% block title %}Your Profile{% endblock %}
{% block body_content %}

<div class="container mt-4">

  <div class="row align-items-center mb-4">

    {% if user.is_authenticated %}
    <div class="col-md-4 text-center">
        {% if user.avatar %}
            <img src="{{ user.avatar.url }}" alt="User Avatar" class="img-thumbnail" style="width: 400px; ">
        {% else %}
            <img src="{% static 'images/default_avatar.png' %}" alt="default_avatar" class="img-thumbnail" style="width: 400px; ">
        {% endif %}
    </div>

    <!-- 右邊 用戶資訊 -->
    <div class="col-md-8">
      <h3>Username : {{ user.username }}</h3>
       <p><strong>Name:</strong> {{ profile.name }}</p>
      <p><strong>Address:</strong> {{ profile.address }}</p>
      <p><strong>Points:</strong> {{ profile.points }}</p>
    </div>
  </div>
  {% endif %}

  <!-- 下半部 3欄 -->
  <div class="row">
    <div class="col-md-4">
      <h5>Brand</h5>
      <!-- 用迴圈列出品牌 -->
      <ul class="list-group">
        {% for order in orders %}
        <li class="list-group-item">{{ order.perfume_brand }}</li>
        {% empty %}
        <li class="list-group-item">-</li>
        {% endfor %}
      </ul>
    </div>

    <div class="col-md-4">
      <h5>Perfume Name</h5>
      <ul class="list-group">
        {% for order in orders %}
        <li class="list-group-item">{{ order.perfume_name }}</li>
        {% empty %}
        <li class="list-group-item">-</li>
        {% endfor %}
      </ul>
    </div>

    <div class="col-md-4">
      <h5>Action</h5>
      <div>
        {% for order in orders %}
        <div class="list-group-item d-flex align-items-center justify-content-left" style="height: 48px;">
          <button type="button" class="btn btn-primary" style="width: 50%;">Comment</button>
        </div>
        {% empty %}
        <div class="list-group-item d-flex align-items-center justify-content-left" style="height: 48px;">
          <button type="button" class="btn btn-primary" style="width: 50%;" disabled>Comment</button>
        </div>
        {% endfor %}
      </div>
    </div>
  </div>

</div>

{% endblock %}